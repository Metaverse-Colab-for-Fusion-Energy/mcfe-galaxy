<tool id="tile_openmc" name="Tile OpenMC" version="0.1.0">

    <description>Neutronics simulation via OpenMC for tile thickness</description>
  
    <requirements>
      <container type="docker">williamjsmith15/omniverse-openmc:05062023</container>
    </requirements>
  
    <command>
      <![CDATA[
        python '$__tool_directory__/tile_openmc.py' '$CAD' '$Config' '$Statepoint' \${GALAXY_SLOTS} 2>&1 &&
        mv tracks.h5 '$Tracks' &&
        mv statepoint.5.h5 '$Statepoint'
      ]]>
      <!-- This statepoint mv needs changing as the name changes from statepoint.5.h5 to statepoint.3.h5 randomly... -->
    </command>
  
    <inputs>
      <param type="data" name="Config" label="Config" help="Parametric input for OpenMC simulation. Format: JSON"/>
      <param type="data" name="CAD" label="CAD" help="Parametric CAD file, created by inputting the same config file as this into the 'Paramak Geometry Creator'. Format: h5m"/>
    </inputs>
  
    <outputs>
      <data format="h5" name="Tracks" label="Tracks" help="Neutron tracks file for cool visualisations and to verify model running as expected. Format: h5"/>
      <data format="h5" name="Statepoint" label="Statepoint" help="State save of the OpenMC run. Format: h5"/>
    </outputs>
  
    <help>
      Temporary tooling to demonstrate full workflow running - will be superseded by a single tool in the future with the JSON update.
    </help>
  
    <citations>
  
    </citations>
  </tool>