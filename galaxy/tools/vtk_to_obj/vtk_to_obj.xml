<tool id="vtk_to_obj" name="vtk to obj" version="0.1.0">
  <description>CAD conversion from vtk to obj</description>

  <requirements>
    <container type="docker">ghcr.io/metaverse-colab-for-fusion-energy/vtk-to-obj:311024</container>
  </requirements>

  <command>
    <![CDATA[
      cp '$vtk_CAD' in.vtk &&
      python '$__tool_directory__/vtk_to_obj.py' -i in.vtk -n '$field_name' -objr out.obj -csvr out.csv 2>&1 &&
      mv out.obj '$obj_CAD' &&
      mv out.csv '$csv_out'
    ]]>
  </command>

  <inputs>
    <param type="data" name="vtk_CAD" label="vtk_CAD"/>
    <param type="text" name="field_name" label="field_name" value="PINN_T"/>
  </inputs>

  <outputs>
    <data format="obj" name="obj_CAD" label="obj_CAD"/>
    <data format="csv" name="csv_out" label="csv_out"/>
  </outputs>

  <help>
    This tool takes in a vtk geometry to produce a obj version of the CAD.
  </help>

  <citations>
  </citations>
</tool>